<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Trivia API</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" /> -->
    <!-- <script src="main.js"></script> -->
    <script src=”https://code.jquery.com/jquery-3.1.1.min.js" integrity=”sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=”
        crossorigin=”anonymous”></script>
</head>

<body>
    <h1 class="">Test tour knowledge</h1>
    <div class="main">
        <div id="question" class="question">Which building, completed in 1653 at a cost of 32 million Rupees, took 22
            years to build?</div>
        <div id="answer" class="answer"></div>
        <div class="buttons">
            <button id="show" class="show btn btn-primary">Show Answer</button>
            <button id="new" class="new btn btn-primary">New Question</button>
        </div>


    </div>

</body>

<style>
    h1 {
        color: black;
        font-weight: bolder;
        text-align: center;
    }

    .main {
        display: block;
        padding: 15px;
        width: 60%;
        height: 400px;
        margin: auto;
        background-color: burlywood;
        border-radius: 15px;
    }

    .question {
        display: flex;
        padding: 20px;
        margin: auto;
        background-color: beige;
        border-radius: 15px;
        width: 90%;
        height: 60%;
        text-align: center;
        font-size: 25px;
        font-weight: bolder;
    }

    .answer {
        width: 90%;
        height: 20%;
        margin-top: 20px;
        margin-right: auto;
        margin-left: auto;
        padding: 5px;
        background-color: gray;
        border-radius: 15px;
        text-align: center;
        font-size: 20px;
        font-weight: bolder;
        color: black;
    }

    .buttons {
        width: 50%;
        display: flex;
        margin: auto;
        text-align: center;
    }

    .new {
        width: 40%;
        margin: 10px;
    }

    .show {
        width: 40%;
        margin: 10px;
    }
</style>

<script>
    let answerTxt = "Taj Mahal";
    let questionTxt =
        "Which building, completed in 1653 at a cost of 32 million Rupees, took 22 years to build?";

    let answer = document.getElementById("answer");

    let question = document.getElementById("question");

    let btnShow = document.getElementById("show");
    btnShow.addEventListener("click", () => {
        answer.innerHTML = answerTxt;
    });
    let btnNew = document.getElementById("new");
    btnNew.addEventListener("click", () => {
        console.log("clicked");

        var xhttp = new XMLHttpRequest();
        xhttp.open("GET", "/questions/random", true);
        xhttp.onload = function () {
            console.log("received?");

            if (this.status == 201) {
                let response = JSON.parse(this.responseText);
                questionTxt = response[0].question;
                answerTxt = response[0].answer;

                question.innerHTML = questionTxt;
                answer.innerHTML = "";
            }
        };
        xhttp.send();
    });
</script>

</html>